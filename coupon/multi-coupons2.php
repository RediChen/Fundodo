<?php

require_once("./db_connect.php");

$conn->set_charset("utf8");

function randomCode($length = 6) {
    $characters = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    $charactersLength = strlen($characters);
    $randomString = '';
    for ($i = 0; $i < $length; $i++) {
        $randomString .= $characters[rand(0, $charactersLength - 1)];
    }
    return $randomString;
}

$now = date('Y-m-d H:i:s');

$sql = "INSERT INTO coupons (name, code, category, coupontype, value, description, min_limit, start_date, end_date, created_at, status) VALUES
('商品滿額85折', '".randomCode()."', 1, '%折扣', 0.85, '滿1000元 享85折', 1000, '2024-05-28', '2024-06-30', '$now', 1),
('商品滿額9折', '".randomCode()."', 1, '%折扣', 0.90, '滿800元 享9折', 800, '2024-06-01', '2024-06-30', '$now', 1),
('商品滿500減50', '".randomCode()."', 1, '固定金額', 50.00, '滿500元 減50', 500, '2024-07-01', '2024-07-31', '$now', 1),
('新品85折', '".randomCode()."', 1, '%折扣', 0.85, '新品享85折', 0, '2024-08-01', '2024-08-31', '$now', 1),
('商品春季大促88折', '".randomCode()."', 1, '%折扣', 0.88, '春季大促 享88折', 0, '2024-09-01', '2024-09-30', '$now', 1),
('新客滿200減20', '".randomCode()."', 1, '固定金額', 20.00, '滿200元 減20', 200, '2024-05-01', '2026-12-31', '$now', 1),
('新客住宿85折', '".randomCode()."', 2, '%折扣', 0.85, '住宿享85折', 0, '2024-05-01', '2026-12-31', '$now', 1),
('住宿9折', '".randomCode()."', 2, '%折扣', 0.90, '住宿享9折', 0, '2024-06-01', '2024-06-30', '$now', 1),
('住宿滿3晚減100', '".randomCode()."', 2, '固定金額', 100.00, '住宿滿3晚 減100', 3, '2024-07-01', '2024-07-31', '$now', 1),
('暑假特惠85折', '".randomCode()."', 2, '%折扣', 0.85, '暑假特惠 享85折', 0, '2024-08-01', '2024-08-31', '$now', 1),
('寒假大促9折', '".randomCode()."', 2, '%折扣', 0.90, '寒假大促 享9折', 0, '2024-12-01', '2024-12-31', '$now', 1),
('週末特惠減50', '".randomCode()."', 2, '固定金額', 50.00, '週末特惠 減50', 2, '2024-11-01', '2024-11-30', '$now', 1),
('新客課程85折', '".randomCode()."', 3, '%折扣', 0.85, '課程享85折', 0, '2024-05-01', '2026-12-31', '$now', 1),
('課程9折', '".randomCode()."', 3, '%折扣', 0.90, '課程享9折', 0, '2024-06-01', '2024-06-30', '$now', 1),
('滿1000減100', '".randomCode()."', 3, '固定金額', 100.00, '滿1000元 減100', 1000, '2024-07-01', '2024-07-31', '$now', 1),
('新課程85折', '".randomCode()."', 3, '%折扣', 0.85, '新課程享85折', 0, '2024-08-01', '2024-08-31', '$now', 1),
('限時優惠9折', '".randomCode()."', 3, '%折扣', 0.90, '限時優惠 享9折', 0, '2024-09-01', '2024-09-30', '$now', 1),
('新年特惠減50', '".randomCode()."', 3, '固定金額', 50.00, '新年特惠 減50', 500, '2024-01-01', '2024-01-31', '$now', 1),
('春節特惠85折', '".randomCode()."', 1, '%折扣', 0.85, '春節特惠 享85折', 0, '2024-02-01', '2024-02-28', '$now', 1),
('夏日特惠9折', '".randomCode()."', 1, '%折扣', 0.90, '夏日特惠 享9折', 0, '2024-03-01', '2024-03-31', '$now', 1),
('秋季特惠95折', '".randomCode()."', 1, '%折扣', 0.95, '秋季特惠 享95折', 0, '2024-04-01', '2024-04-30', '$now', 1),
('冬季特惠8折', '".randomCode()."', 1, '%折扣', 0.80, '冬季特惠 享8折', 0, '2024-05-01', '2024-05-31', '$now', 1),
('週年慶9折', '".randomCode()."', 1, '%折扣', 0.90, '週年慶 享9折', 0, '2024-06-01', '2024-06-30', '$now', 1),
('感恩節特惠85折', '".randomCode()."', 1, '%折扣', 0.85, '感恩節特惠 享85折', 0, '2024-07-01', '2024-07-31', '$now', 1),
('聖誕節特惠9折', '".randomCode()."', 1, '%折扣', 0.90, '聖誕節特惠 享9折', 0, '2024-12-01', '2024-12-31', '$now', 1),
('黑五特惠8折', '".randomCode()."', 1, '%折扣', 0.80, '黑五特惠 享8折', 0, '2024-11-01', '2024-11-30', '$now', 1),
('新春特惠95折', '".randomCode()."', 1, '%折扣', 0.95, '新春特惠 享95折', 0, '2024-01-01', '2024-01-31', '$now', 1),
('週末大促85折', '".randomCode()."', 1, '%折扣', 0.85, '週末大促 享85折', 0, '2024-08-01', '2024-08-31', '$now', 1),
('節日特惠9折', '".randomCode()."', 1, '%折扣', 0.90, '節日特惠 享9折', 0, '2024-09-01', '2024-09-30', '$now', 1),
('會員專享8折', '".randomCode()."', 1, '%折扣', 0.80, '會員專享 享8折', 0, '2024-10-01', '2024-10-31', '$now', 1);";

if ($conn->query($sql) === TRUE) {
    echo "新資料輸入成功";
} else {
    echo "Error: " . $sql . "<br>" . $conn->error;
}

$conn->close();
?>